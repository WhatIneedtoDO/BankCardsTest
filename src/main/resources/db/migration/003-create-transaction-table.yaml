databaseChangeLog:
  - changeSet:
    id: 003-create-transaction-table
    author: WhatINeedToDo
    changes:
      - createTable:
          tableName: transactions
          columns:
            - column:
              name: id
              type: BIGSERIAL
              autoIncrement: true
              constraints:
                primaryKey: true
            - column:
              name: from_card_id
              type: BIGINT
              constraints:
                nullable: false
                foreignKeyName: fk_txn_from_card
                references: cards(id)
            - column:
              name: to_card_id
              type: BIGINT
              constraints:
                nullable: false
                foreignKeyName: fk_txn_to_card
                references: cards(id)
            - column:
              name: amount
              type: NUMERIC(15,2)
              constraints:
                nullable: false
            - column:
              name: created_at
              type: TIMESTAMP
              defaultValueComputed: CURRENT_TIMESTAMP